<!DOCTYPE html>
<html>
  <head>
    <title>Naganocake</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
    <header>
     <nav class="navbar navbar-expand-lg navbar-light">
      <div class="container">
        <div class="row">
          <ul class="navbar-nav ml-auto">

              <h2 class="border border-dark rounded "><%= link_to "Nagano_Cake",root_path %></h2>

                <div class="collapse navbar-collapse" id="navbarNavDropdown">

                <% if admin_signed_in? %>
                      <li class="nav-item">
                        <%= link_to admin_items_path do %>
                          <i class="fas fa-cookie-bite">商品一覧</i>
                        <% end %>
                      </li>
                      <li class="nav-item">
                        <%= link_to admin_customers_path do %>
                          <i class="fas fa-users">会員一覧</i>
                        <% end %>
                      </li>
                      <li class="nav-item">
                        <%= link_to admin_homes_top_path do %>
                          <i class="fas fa-clipboard-list">注文履歴一覧</i>
                        <% end %>
                      </li>
                      <li class="nav-item">
                        <%= link_to admin_genres_path do%>
                          <i class="fas fa-tags">ジャンル一覧</i>
                        <% end %>
                      </li>
                      <li class="nav-item">
                        <%= link_to destroy_admin_session_path, method: :delete do %>
                          <i class="fas fa-sign-out-alt">ログアウト</i>
                        <% end %>
                      </li>


                    <!--customersログイン時のヘッダー-->
                    <% elsif customer_signed_in? %>
                      <li class="col-4 text-center">
                        ようこそ、<strong><%= current_customer.family_name %><%= current_customer.first_name %></strong>さん!
                      </li>
                      <li class="col-3">
                        <%= link_to customer_path(current_customer.id), class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-user-circle">マイページ</i>
                        <% end %>
                      </li>
                      <li class="col-3">
                        <%= link_to  items_path, class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-cookie-bite">商品一覧</i>
                        <% end %>
                      </li>
                      <li class="col-3">
                        <%= link_to cart_items_path, class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-shopping-cart">カート</i>
                        <% end %>
                      </li>
                      <li class="col-3">
                        <%= link_to destroy_customer_session_path, method: :delete, class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-sign-out-alt">ログアウト</i>
                        <% end %>
                      </li>
                    <% else %>
                    <!--ログイン前時のヘッダー-->
                      <li class="col-4">
                        <%= link_to homes_about_path, class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-store-alt">About</i>
                        <% end %>
                      </li>
                      <li class="col-4">
                        <%= link_to items_path, class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-cookie-bite">商品一覧</i>
                        <% end %>
                      </li>
                      <li class="col-4">
                        <%= link_to new_customer_registration_path, data: {"turbolinks" => false}, class:'btn btn-outline-secondary' do %>
                          <i class="fas fa-user-plus">新規登録</i>
                        <% end %>
                      </li>
                      <li class="col-4">
                        <%= link_to  new_customer_session_path, class:'btn btn-outline-secondary' do%>
                          <i class="fas fa-user">ログイン</i>
                        <% end %>
                      </li>
                    <% end %>
                    <p>
                      <%= form_with method: :get, local: :ture do |f| %>
                       <%= f.text_field :search, placeholder: "search" %>
                       <%= f.submit "検索" %>
                      <% end %>
                    </p>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>
    <main>
    <%= yield %>
    </main>
    <footer>
      <div class="mt-3"></div>
    </footer>
  </body>
</html>
